!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.type=t()}}(function(){return function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var i="function"==typeof require&&require;if(!u&&i)return i(a,!0);if(f)return f(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return o(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var f="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t){function e(t,r){return n(t)["function"]?t.apply(this,[r]):(n(t).assert.object,Object.keys(t).every(function(o){return n(r).object&&e(t[o],r[o])}))}var n=t("./type-mark"),r=t("./util");n.extend("array",Array.isArray),n.extend("empty",function(t){return 0===r.length(t)},function(t){return n.format(this,"Expected {a|an} {|non} empty object{s} instead found an object with length "+r.length(t))}),n.extend("even",function(t){return"number"==typeof t&&t%2===0},function(t){return n.format(this,"Expected {an} {even|odd} number{s} instead found "+t)}),n.extend("exists",function(t){return"undefined"!=typeof t&&null!==t},function(t){return n.format(this,"Expected {} value{s} to {|not} exist instead found "+t)}),n.extendfn("implements",e,function(t){return n.format(this,"Expected {} object{s} to {|not} implement interface instead found "+t)}),n.extendfn("instanceof",function(t,e){return n(t).assert["function"],e instanceof t},function(t,e){return n.format(this,"Expected {an|a} {|non} instance{s} of "+t.name+" instead found "+e)}),n.extend("integer",function(t){return"number"==typeof t&&!isNaN(t)&&(0|t)===t},function(t){return n.format(this,"Expected {an|a} {|non} integer{s} instead found "+t)}),n.extendfn("lengthof",function(t,e){return n(t).assert.number,r.length(e)===t},function(t,e){return n.format(this,"Expected {an|a} object {|not} of length "+t+" instead found an object of length "+r.length(e))}),n.extendfn("max",function(t,e){return n(t).assert.number,"number"==typeof e&&t>=e},function(t,e){return n.format(this,"Expected {a} value{s} {less than or equal to|greater than} "+t+" instead found "+e)}),n.extendfn("min",function(t,e){return n(t).assert.number,"number"==typeof e&&e>=t},function(t,e){return n.format(this,"Expected {a} value{s} {greater than or equal to|less than} "+t+" instead found "+e)});var o=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,a=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"));n.extend("native",function(t){return("function"==typeof t||"object"==typeof t)&&("function"==typeof t?a.test(Function.prototype.toString.call(t)):f.test(""+t))},function(t){n.format(this,"Expected {a} native function{s} instead found "+t)}),n.extend("negative",function(t){return"number"==typeof t&&0>t},function(t){return n.format("Expected {a} number{s} {|not} less than 0 instead found "+t)}),n.extend("object",function(t){return"object"==typeof t&&null!==t}),n.extend("odd",function(t){return"number"==typeof t&&t%2!==0},function(t){return n.format(this,"Expected {an} {odd|even} number{s} instead found "+t)}),n.extend("positive",function(t){return"number"==typeof t&&t>0},function(t){return n.format("Expected {a} number{s} {|not} greater than 0 instead found "+t)}),n.extendfn("range",function(t,e,r){return n(t).assert.number,n(e).assert.number,"number"==typeof r&&r>=t&&e>r},function(t,e,r){return n.format(this,"Expected {a} value{s} {between|outside of} "+t+" and "+e+" instead found "+r)}),"undefined boolean number string symbol function".split(" ").forEach(function(t){n.extend(t,function(e){return typeof e===t})})},{"./type-mark":3,"./util":4}],2:[function(t,e){t("./extensions"),e.exports=t("./type-mark")},{"./extensions":1,"./type-mark":3}],3:[function(t,e){function n(){return new r([].slice.call(arguments))}function r(t){this.value=t[0],this._value=t,this._flags=0,this._args=[]}function o(t,e){f.define(r.prototype,t,function(){return this._flags|=e,this})}var f=t("./util");n.TypeState=r,n.not={arrayof:{},of:{}},n.arrayof={not:{}},n.of={not:{}},n.util=f,r.prototype={resolve:function(t,e,r){var o=!1,u=this;if(!u._flags)return u.result(e)&&u;if(u._flags&a.not&&(e=f.not(e)),u._flags&a.arrayof){if(u._flags&a.collapse)throw new TypeError("arrayof modifier does not support collapse.");if(u._flags&a.of)throw new TypeError("arrayof modifier does not suppoer of");o=u.result(f.arrayof(e))}else if(u._flags&a.of){if(u._flags&a.collapse)throw new TypeError("of modifier does not support collapse.");o=u.result(f.of(e))}else if(u._flags&a.collapse){for(var i in u._value)if(u._value.hasOwnProperty(i)){var s=u._value[i];if(u.result(e,s,"undefined"==typeof s))return s}o=!1}else o=u.result(e);if(!o&&u._flags&a.assert){var c=new TypeError(u.result(u._message||r||function(){return n.format(u,"Expected {} {|non} "+t+"{s} instead found "+u.type)}));throw u._flags&a.debug||!n(c.stack).string||(c.stack=c.stack.replace(/\n.*/,"").replace(/\n.*/,"")),c}return o&&u},message:function(t){return n(t).string?(this._message=function(){return t},this):(n(t).assert["function"],this._message=t,this)},result:function(t,e,n){return e="undefined"!=typeof e||n?e:this.value,t.apply(this,this._args.concat([e]))}},n.format=function(t,e){var n=t._flags&(a.arrayof|a.of),r=t._flags&a.not,o=t._flags&a.arrayof?"an array of ":"an object of ";return e.replace(/\{s\}/g,n?"s":"").replace(/\{([^}]*?)\}/,n?o:"{$1}").replace(/\{([^}]*?)\|([^}]*?)\}/g,r?"$2":"$1").replace(/{([^}]*?)}/g,"$1").replace(/\s+/g," ")},f.define(r.prototype,"type",function(){return null===this.value?"null":typeof this.value});var a={not:1,arrayof:2,of:4,assert:8,collapse:16,debug:32};Object.keys(a).forEach(function(t){o(t,a[t])}),n.extend=function(t,e,o){return f.define(r.prototype,t,function(){return this.resolve(t,e,o)}),n[t]=e,n.not[t]=f.not(e),n.not.arrayof[t]=f.arrayof(n.not[t]),n.not.of[t]=f.of(n.not[t]),n.arrayof[t]=f.arrayof(e),n.of[t]=f.of(e),n.arrayof.not[t]=n.not.arrayof[t],n.of.not[t]=n.not.of[t],this},n.extendfn=function(t,e,o){return r.prototype[t]=function(){return this._args=[].slice.call(arguments),this.resolve(t,e,o)},e=f.curry(e),n[t]=e,n.not[t]=f.not(e),n.not.arrayof[t]=f.arrayof(n.not[t]),n.not.of[t]=f.of(n.not[t]),n.arrayof[t]=f.arrayof(e),n.of[t]=f.of(e),n.arrayof.not[t]=n.not.arrayof[t],n.of.not[t]=n.not.of[t],this},e.exports=n},{"./util":4}],4:[function(t,e){var n={not:function(t){return function(){var e=t.apply(this,arguments);return"function"!=typeof e?!e:n.not(e)}},arrayof:function(t){return function(){var e=this,r=t.apply(e,arguments),o=[].slice.call(arguments),f=o.pop();return"function"!=typeof r?Array.isArray(f)&&f.every(function(n){return t.apply(e,o.concat([n]))}):n.arrayof(r)}},of:function(t){return function(){var e=this,r=t.apply(e,arguments),o=[].slice.call(arguments),f=o.pop();return"function"!=typeof r?"object"==typeof f&&null!==f&&Object.keys(f).every(function(n){return t.apply(e,o.concat([f[n]]))}):n.of(r)}},define:function(t,e,n){Object.defineProperty(t,e,{get:n})},length:function(t){return"string"==typeof t||Array.isArray(t)?t.length:null!==t&&"object"==typeof t?Object.keys(t).length:void 0},curry:function(t){var e=t.length;return function n(){var r=[].slice.call(arguments,0);return r.length>=e?t.apply(null,r):function(){var t=[].slice.call(arguments,0);return n.apply(null,r.concat(t))}}}};e.exports=n},{}]},{},[2])(2)});
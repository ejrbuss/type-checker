(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.type=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var type=require("./type-mark");type.ef("and",function(first,second,arg){var args=type.util.toArray(arguments);var last=args.pop();return args.every(function(test){return test(last)})});type.e("array",Array.isArray);type.e("empty",function(arg){return type.util.length(arg)===0},function(arg){return this.format(["empty"],[this.type,"lengthof",String(type.util.length(arg))])});type.e("even",function(arg){return typeof arg==="number"&&arg%2===0});type.e("exists",function(arg){return typeof arg!=="undefined"&&arg!==null});function _implements(_interface,arg){if(type(_interface).function){return _interface(arg)}type(_interface).assert.object;return Object.keys(_interface).every(function(key){return type(arg).object&&_implements(_interface[key],arg[key])})}type.ef("implements",_implements,function(_interface,arg){return this.format(["implements",JSON.stringify(_interface,function(key,val){if(key&&type(val).function){return val.name||"function"}return val})],[JSON.stringify(arg)])});type.ef("instanceof",function(constructor,arg){type(constructor).assert.function;return arg instanceof constructor},function(constructor,arg){type(arg).assert.object;return this.format(["instanceof",constructor.name],["instanceof",arg.constructor.name,arg])});type.e("integer",function(arg){return typeof arg==="number"&&!isNaN(arg)&&(arg|0)===arg});type.ef("lengthof",function(n,arg){type(n).assert.number;return type.util.length(arg)===n},function(n,arg){return this.format(["lengthof",n],[this.type,"lengthof",String(type.util.length(arg))])});type.ef("max",function(n,arg){type(n).assert.number;return typeof arg==="number"&&arg<=n},function(n,arg){return this.format(["max",n],[this.type,arg])});type.ef("min",function(n,arg){type(n).assert.number;return typeof arg==="number"&&arg>=n},function(n,arg){return this.format(["min",n],[this.type,arg])});var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsNative=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"));type.e("native",function(arg){return(typeof arg==="function"||typeof arg==="object")&&(typeof arg==="function"?reIsNative.test(Function.prototype.toString.call(arg)):reIsHostCtor.test(""+arg))});type.e("negative",function(arg){return typeof arg==="number"&&arg<0});type.e("object",function(arg){return typeof arg==="object"&&arg!==null});type.e("odd",function(arg){return typeof arg==="number"&&(arg-1)%2===0});type.ef("or",function(first,second,arg){var args=type.util.toArray(arguments);var last=args.pop();return args.some(function(test){return test(last)})});type.e("positive",function(arg){return typeof arg==="number"&&arg>0});type.ef("range",function(min,max,arg){type(min).assert.number;type(max).assert.number;return typeof arg==="number"&&arg>=min&&arg<max},function(min,max,arg){return this.format(["between",min,"and",max],[this.type,arg])});"undefined boolean number string symbol function".split(" ").forEach(function(name){type.e(name,function(arg){return typeof arg===name})})},{"./type-mark":4}],2:[function(require,module,exports){require("./extensions");require("./modifiers");module.exports=require("./type-mark")},{"./extensions":1,"./modifiers":3,"./type-mark":4}],3:[function(require,module,exports){var type=require("./type-mark");type.m("arrayof",function arrayof(test){return function(){var that=this;var args=type.util.toArray(arguments);var last=args.pop();return Array.isArray(last)&&last.every(function(arg){return test.apply(that,args.concat([arg]))})}});type.m("assert",function assert(test,name){return function(){if(!test.apply(this,arguments)){throw type.typeError(this,name)}return true}});type.typeError=function typeError(state,name){type(state).assert.instanceof(type.TypeState);type(name).assert.string;var message=state._message||state.format([name],[state.type,state.value]);var error=new TypeError(type(message).function?state.result(message):message);error.state=state;return error};type.m("collapse",function collapse(test){return function(){var args=type.util.toArray(arguments);args.pop();for(var i in this._value){if(test.apply(this,args.concat([this._value[i]]))){this._return=this._value[i];return true}}return false}});type.m("maybe",function maybe(test){return function(){var args=type.util.toArray(arguments);var last=args.pop();return last===null||typeof last==="undefined"||test.apply(this,args.concat([last]))}});type.m("not",function not(test){return function(){return!test.apply(this,arguments)}});type.m("of",function of(test){return function(){var that=this;var args=type.util.toArray(arguments);var last=args.pop();return typeof last==="object"&&last!==null&&Object.keys(last).every(function(key){return test.apply(that,args.concat([last[key]]))})}})},{"./type-mark":4}],4:[function(require,module,exports){var util=require("./util");function type(){return new TypeState(util.toArray(arguments))}type.util=util;function TypeState(val){this.value=val[0];this._value=val;this._stack=[];this._args=[];this._return=true}type.TypeState=TypeState;TypeState.prototype={resolve:function(name,test){for(var i=this._stack.length-1;i>=0;i--){test=this._stack[i].call(this,test,name)}var result=this.result(test);return result?this._return:result},result:function(test){return test.apply(this,this._args.concat([this.value]))},message:function(msg){type(msg).string||type(msg).assert.function;this._message=msg;return this},format:function(asserted,found){return"Asserted: "+this.stack.filter(function(mod){return mod!=="assert"}).concat(asserted).join(" ")+" -- Found: "+found.join(" ")}};function ShadowTypeState(){this._stack=[]}ShadowTypeState.prototype={message:TypeState.prototype.message,toTypeState:function(args,message){var state=new TypeState([args.pop()]);state._stack=this._stack;state._message=this._message||message;state._args=args;return state}};util.define(TypeState.prototype,"type",function(){return this.value===null?"null":typeof this.value});util.define(TypeState.prototype,"stack",function(){return this._stack.map(function(mod){return mod.name})});type.extend=type.e=function extend(name,test,message){util.define(TypeState.prototype,name,function(){this._message=this._message||message;return this.resolve(name,test)});addExtension(name,test,message)};type.extendfn=type.ef=function extendfn(name,test,message){TypeState.prototype[name]=function(){this._args=util.toArray(arguments);this._message=this._message||message;return this.resolve(name,test)};addExtension(name,test,message)};type.modify=type.m=function extendmod(name,mod){var fn=function(){this._stack.push(mod);return this};util.define(ShadowTypeState.prototype,name,fn);util.define(TypeState.prototype,name,fn);util.define(type,name,function(){return(new ShadowTypeState)[name]})};function addExtension(name,test,message){type[name]=util.curry(test);util.define(ShadowTypeState.prototype,name,function(){var sstate=this;return util.curry(function(){return sstate.toTypeState(util.toArray(arguments),message).resolve(name,test)},test.length)})}module.exports=type},{"./util":5}],5:[function(require,module,exports){function define(obj,name,fn){Object.defineProperty(obj,name,{get:fn})}function toArray(arg){return Array.prototype.slice.call(arg)}function length(arg){if(typeof arg==="string"||Array.isArray(arg)){return arg.length}if(arg!==null&&typeof arg==="object"){return Object.keys(arg).length}}function curry(fn,arity){arity=arity||fn.length;if(arity<=1){return fn}return function f1(){var args1=toArray(arguments);if(args1.length>=arity){return fn.apply(null,args1)}else{return function f2(){var args2=toArray(arguments);return f1.apply(null,args1.concat(args2))}}}}module.exports={define:define,toArray:toArray,length:length,curry:curry}},{}]},{},[2])(2)});
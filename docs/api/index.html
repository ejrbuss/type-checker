<!DOCTYPE html><html><head><title class="next-head">TypeMark | API</title><meta charSet="UTF-8" class="next-head"/><meta name="description" content="" class="next-head"/><meta name="keywords" content="" class="next-head"/><meta name="author" content="Eric Buss" class="next-head"/><meta name="viewport" content="width=device-width, initial-scale=1.0" class="next-head"/><link rel="shortcut icon" href="/type-mark/static/favicon.ico" class="next-head"/><link rel="stylesheet" href="/static/css/github.css" class="next-head"/><link rel="stylesheet" href="/static/css/spectre.min.css" class="next-head"/><link rel="stylesheet" href="/static/css/spectre-exp.min.css" class="next-head"/><link rel="stylesheet" href="/static/css/font-awesome.min.css" class="next-head"/><link rel="stylesheet" href="/static/css/animate.css" class="next-head"/><script src="/static/js/es5-shim.min.js" class="next-head"></script><script src="/static/js/es6-shim.min.js" class="next-head"></script><script src="/static/js/object-shim.js" class="next-head"></script><script src="/type-mark/static/js/type-mark.js" class="next-head"></script><script src="/type-mark/static/js/docs.js" class="next-head"></script><link rel="preload" href="/type-mark/_next/static/DuRphBvu4WhwLHLj5sh~X/pages/api.js" as="script"/><link rel="preload" href="/type-mark/_next/static/DuRphBvu4WhwLHLj5sh~X/pages/_app.js" as="script"/><link rel="preload" href="/type-mark/_next/static/DuRphBvu4WhwLHLj5sh~X/pages/_error.js" as="script"/><link rel="preload" href="/type-mark/_next/static/runtime/webpack-f4542de9ce6104e90191.js" as="script"/><link rel="preload" href="/type-mark/_next/static/chunks/commons.5e892ddd9f5bec278c6c.js" as="script"/><link rel="preload" href="/type-mark/_next/static/runtime/main-c2e40a57d5e6d5e563b1.js" as="script"/><link rel="stylesheet" href="/type-mark/_next/static/css/commons.425dbc86.chunk.css"/></head><body><div id="__next"><div id="page"><header class="navbar"><div class="scroll-marker" style="width:NaN%"></div><section class="navbar-section container grid-md"><div class="left"><a class="m-md " href="/type-mark/index/"><i class="fas fa-home"></i>Home</a><a class="m-md active" href="/type-mark/api/"><i class="fas fa-book"></i>API</a><a class="m-md" href="https://cdn.rawgit.com/ejrbuss/type-mark/b33a3d5646d5cf4d280ab97d73c776c5522dae90/type-mark.min.js"><i class="fas fa-cloud-download-alt"></i>Download</a></div><div class="fill-width"><div class="float-right hide-xs text-sm center"><input type="text" placeholder="Type to search..." value="" class="closed"/><a class="p-md subtle-accent"><i class="fas fa-search fa-lg"></i></a><a target="_blank" href="https://github.com/ejrbuss/type-mark" class="p-md subtle-accent"><i class="fab fa-github fa-lg"></i></a></div><div class="search hide-xs text-sm "></div></div></section></header><div class="side-nav text-center hide-xl"><ul class="nav outer d-inline-block text-left"></ul></div><div class="search-results"><div class="container grid-md"></div></div><div class="content container grid-md"><div class="md indexable"><a class="anchor-point" id="introduction"></a><a class="anchor" href="#introduction"><h1>Introduction</h1><br/></a><p>Note if you just want a quick understanding of type-mark it is recommended you
start with the <a href="/type-mark/index/#getting-started">Getting Started</a> section on
this site&#x27;s homepage.</p><p>This page breaks down the internals of type-checker into 5 key sections.</p><ul><li><strong><a href="#involved-examples">Involved Examples</a></strong> Some more intense examples than
what appears in
<a href="/type-mark/index/#getting-started">Getting Started</a></li><li><strong><a href="#typestate">TypeState</a></strong> A detailed look at the <code>TypeSate</code> object itself
that makes type-mark tick</li><li><strong><a href="#extensions">Extensions</a></strong> Also referred to as tests or checks. This
section details each extension individually</li><li><strong><a href="#modifiers">Modifiers</a></strong> A look at extension modifiers and how they stack
together</li><li><strong><a href="#util">Util</a></strong> Overview of type-mark&#x27;s utility library</li></ul><a class="anchor-point" id="involvedexamples"></a><a class="anchor" href="#involvedexamples"><h1>Involved Examples</h1><br/></a><a class="anchor-point" id="creatingaregextest"></a><a class="anchor" href="#creatingaregextest"><h2>Creating a Regex Test</h2><br/></a><p>Regular expressions are a common method of validation. type-mark does not
include support for regex by default, but adding support is a straightforward
task.</p><h3 id="motivation">Motivation</h3><p>Before designing a regex interface for type-mark we should first consider what
purpose it will serve, considering we have <code>/regex/.test</code> already. Here are a
couple benefits that may motivate us</p><ul><li>Allows us to quickly modify our use of a given regex using type-mark&#x27;s <code>not</code>,
<code>arrayof</code>, <code>of</code>, <code>collapse</code>, and <code>assert</code> modifiers</li><li>Allows us to use regex validation in interfaces without having to create an
anonymous function for every regex test</li></ul><h3 id="implementation">Implementation</h3><p>Below is an implementation of regex support for type-mark with the test name
<code>re</code>. The <a href="#formatasserted--array-found--array">.format</a> is a method
provided by <code>TypeState</code> for creating default error messages. The first parameter
appears in the <em>Asserted</em> section of the message and the second parameter appears
in the <em>Found</em> section of the message.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span></div><div class="text"><pre>type.extendfn(<span class="hljs-string">'re'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">regex, arg</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + regex.source + <span class="hljs-string">'$'</span>).test(arg);
}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">regex, arg</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.format([<span class="hljs-string">'regex'</span>, regex], [<span class="hljs-keyword">this</span>.type, arg]);
});</pre></div></div></div><h3 id="usage">Usage</h3><p>There are a variety of ways we might use this new test. For simple patterns
we can use the standard API.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'aaaab'</span>).re(<span class="hljs-regexp">/a+b/</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.re(<span class="hljs-regexp">/\d+/</span>, <span class="hljs-string">'1.1'</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>We may wish to use this test as the basis for another test. We could use
<a href="#extendname--string-test--function-message--mixed">extend</a> to create a test for a specific regex. Let&#x27;s imagine we wanted
to validate a url.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span></div><div class="text"><pre><span class="hljs-keyword">var</span> reUrl = <span class="hljs-regexp">/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/</span>;

type.extend(<span class="hljs-string">'url'</span>, type.re(reUrl));</pre></div></div></div><p>We can now validate urls using the standard type-mark API, as well as use it
in interfaces. For instance you could define an interface like so</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span></div><div class="text"><pre><span class="hljs-keyword">var</span> website = {
    <span class="hljs-attr">url</span>    : type.url,
    <span class="hljs-attr">name</span>   : type.string,
    <span class="hljs-attr">author</span> : type.string,
    <span class="hljs-attr">hits</span>   : type.integer
};</pre></div></div></div><p>We can now use this interface to validate that our list of websites meets
our expected format.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(websiteList).arrayof.implements(website)</pre></div></div></div><p>In this example we saw how type-mark treats user extensions as first class
citizens. Expanding type-mark is a process that builds on itself and is often
self referential.</p><a class="anchor-point" id="addinganestedmodiifer"></a><a class="anchor" href="#addinganestedmodiifer"><h2>Adding a Nested Modiifer</h2><br/></a><p>type-mark provides several modifiers for introspecting objects and arrays,
but these only go one level deep. We will implement a nested modifier which
inspects all values in a nested set of array/objects.</p><h3 id="motivation">Motivation</h3><p>Before creating a new modifiers we should first consider what purpose it will
serve. Here are a couple benefits that may motivate us</p><ul><li>Saves us time when creating interfaces with homogenous types</li><li>Allows us to filter out unwanted types, for instance we may want to check
that a record does not contain any strings</li></ul><h3 id="implementation">Implementation</h3><p>We will use recursion to check deeply nested objects. The first step is to
create a function that will return the correct results. We will call this
function <code>nest</code>. Let’s take a look at it</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span><span class="line-number">7</span><span class="line-number">8</span></div><div class="text"><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nest</span>(<span class="hljs-params">that, test, args, value</span>) </span>{
    <span class="hljs-keyword">if</span>(type(value).object) {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(value).every(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
            <span class="hljs-keyword">return</span> nest(that, test, args, value[i]);
        });
    }
    <span class="hljs-keyword">return</span> test.apply(that, args.concat([value]));
}</pre></div></div></div><p>Let&#x27;s break this down line by line.</p><div class="editor"><div class="code" data-lang="js"><div class="text"><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nest</span>(<span class="hljs-params">that, test, args, value</span>) </span>{</pre></div></div></div><p>Here our function signature tells us what we are going to need to pass in later
from our modifier. <code>that</code> is the current <code>TypeState</code> being resolved. <code>test</code> is the
check that our modifier is modifying. <code>args</code> is an array of arguments that may
need to be passed to the test (such as with <code>instanceof</code>, <code>lengthof</code>, etc.). And
finally value is the value we want to know the nested result of.</p><div class="editor"><div class="code" data-lang="js"><div class="text"><pre><span class="hljs-keyword">if</span>(type(value).object) {</pre></div></div></div><p>If value is an object (which includes Arrays) then we want to do our nested
check. That is for every key in the object we want to check that its value also
passes the nested check.</p><div class="editor"><div class="code" data-lang="js"><div class="text"><pre><span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(value).every(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
    <span class="hljs-keyword">return</span> nest(that, test, args, value[i]);
});</pre></div></div></div><p>Here is the implementation of what we described above. For each item in our
value we are just going to recurse into nest. <code>that</code>, <code>test</code>, and <code>args</code> will
all remain the same, the only thing changing will be value!</p><div class="editor"><div class="code" data-lang="js"><div class="text"><pre><span class="hljs-keyword">return</span> test.apply(that, args.concat([value]));</pre></div></div></div><p>This is our else case, when our value is not an Array or object. Calling a test
from a modifier is not nearly as easy as <code>test(value)</code>. We have to make sure
to pass the calling context (the that argument) as well as pass in the expected
arguments (hence why we concat value to the end of arguments). Even the <code>not</code>
modifier must use <code>apply</code> to achieve this.</p><p>Now that we&#x27;ve broken down nest, all we have to do is write our modifier, which
is as easy as calling the right part of type-mark&#x27;s API and then returning a call
to <code>nest</code>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span><span class="line-number">7</span><span class="line-number">8</span><span class="line-number">9</span><span class="line-number">10</span></div><div class="text"><pre>type.modify(<span class="hljs-string">'nested'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nested</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

        <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">var</span> args = type.util.toArray(<span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">var</span> value = args.pop();

        <span class="hljs-keyword">return</span> nest(that, test, args, value);
    };
});</pre></div></div></div><p>Let&#x27;s break this down too.</p><div class="editor"><div class="code" data-lang="js"><div class="text"><pre>type.modify(<span class="hljs-string">'nested'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nested</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</pre></div></div></div><p>Modifiers are added to type-mark using the <a href="#modify">modify</a> function. It expects a name
and a function which will take a test and return a new (modified) test. This is
why the first thing we do inside our modifier is return a new function, this
will replace test in the type-mark resolution process. In fact there is a good
chance that the test we are being passed has already been modified!</p><div class="editor"><div class="code" data-lang="js"><div class="text"><pre><span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
<span class="hljs-keyword">var</span> args = type.util.toArray(<span class="hljs-built_in">arguments</span>);
<span class="hljs-keyword">var</span> value = args.pop();</pre></div></div></div><p>Here we are getting the required values for <code>nest</code>. Because all tests are called
with <code>this</code> as the current <code>TypeState</code>, that means that <code>this</code> in our function
will be a <code>TypeState</code> too since we are a test! So <code>this</code> will become <code>that</code>. <code>args</code>
are just the arguments that got passed to our very own function, and the value
will be the final argument.</p><div class="editor"><div class="code" data-lang="js"><div class="text"><pre><span class="hljs-keyword">return</span> nest(that, test, args, value);</pre></div></div></div><p>Finally, we just call nest with our starting values.</p><h3 id="usage">Usage</h3><p>Nested calls will work even with no nesting at all. This means we can call it
with primitive types and will be like there is no modifier at all</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">12</span>).nested.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>In the case of a flat array or object though, nested behaves a lot like <code>of</code>. In
fact the code shown here is based off the implementation of <code>of</code>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([<span class="hljs-built_in">Math</span>.PI]).nested.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>What makes it special is that it can weed out values that are a away
from the surface</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], { <span class="hljs-attr">x</span> : <span class="hljs-number">-1</span>, <span class="hljs-attr">y</span> : <span class="hljs-number">2.5</span>, <span class="hljs-attr">z</span> : [<span class="hljs-number">0</span>]}]).nested.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([{ <span class="hljs-attr">x</span> : <span class="hljs-number">12</span> }, { <span class="hljs-attr">y</span> : [<span class="hljs-number">42</span>, [<span class="hljs-string">'string!'</span>]]}]).nested.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>In this example, we saw how type-mark allows you to define your own modifiers.
Creating modifiers is not as simple as extensions, but they are significantly
more powerful since they change the way all other tests behave.</p><a class="anchor-point" id="typestate"></a><a class="anchor" href="#typestate"><h1>TypeState</h1><br/></a><p><code>TypeState</code> is the core object that powers type-mark. It is instantiated
indirectly through every call to <code>type</code></p><a class="anchor-point" id="newtypestate(values:array)"></a><a class="anchor" href="#newtypestate(values:array)"><h2><code>new TypeState(values : Array)</code></h2><br/></a><p><strong>values</strong> is an array of values to test, where <code>values[0]</code> is used for
most tests and <code>values[...]</code> is used for tests with the collapse modifier.</p><a class="anchor-point" id=".value"></a><a class="anchor" href="#.value"><h2><code>.value</code></h2><br/></a><p>The first element of the array argument given to the <code>TypeState</code>
constructor. This will correspond to the first argument passed to <code>type</code>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>state = type(<span class="hljs-string">'value'</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>state.value</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: state is not defined</span></pre></div></div><a class="anchor-point" id=".type"></a><a class="anchor" href="#.type"><h2><code>.type</code></h2><br/></a><p>The type of the <code>.value</code>. This value is computed upon access and is
equivalent to the result of <code>typeof</code> except that <code>null</code> will return
<code>null</code>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-built_in">Math</span>.PI).type</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">null</span>).type</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id=".stack"></a><a class="anchor" href="#.stack"><h2><code>.stack</code></h2><br/></a><p>An array of strings representing the current modifier stack on the <code>TypeState</code>.
This value is computed upon access and is equivalent to mapping over <code>._stack</code>
and replacing each modifier function with its name. Used by <code>.format</code>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type().assert.not.arrayof.stack</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="._value"></a><a class="anchor" href="#._value"><h2><code>._value</code></h2><br/></a><p>The array of elements passed to the constructor of <code>TypeState</code>. Used by
the <code>collapse</code> modifier.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)._value</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre><span class="hljs-keyword">new</span> type.TypeState([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])._value</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="._stack"></a><a class="anchor" href="#._stack"><h2><code>._stack</code></h2><br/></a><p>The current modifier stack on the <code>TypeState</code> instance. Each modifier is passed
the result of the return value of the previous modifier (starting right to left)
with the first modifier receiving the expected test.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type().assert.not.arrayof._stack</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="._args"></a><a class="anchor" href="#._args"><h2><code>._args</code></h2><br/></a><p>Stores the arguments used when calling an extension that takes parameters.</p><a class="anchor-point" id="._return"></a><a class="anchor" href="#._return"><h2><code>._return</code></h2><br/></a><p>Used by modifiers to modify the return result for when a test passed. By default
this is <code>true</code>, but in the case of <code>collapse</code> this is modified to be the first
matching argument.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>state = type(<span class="hljs-number">4</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>state._return = <span class="hljs-string">"Wha???"</span></pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: state is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>state.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: state is not defined</span></pre></div></div><a class="anchor-point" id="._message"></a><a class="anchor" href="#._message"><h2><code>._message</code></h2><br/></a><p>The user specified string or function set by <code>.message()</code> used in place of the
default or extension specified <code>TypeError</code> message.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>state = type(<span class="hljs-number">4</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>state._message = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">'overridden'</span>; }</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: state is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>state.assert.string</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: state is not defined</span></pre></div></div><a class="anchor-point" id=".resolve(name:string,test:function)"></a><a class="anchor" href="#.resolve(name:string,test:function)"><h2><code>.resolve(name : string, test : function)</code></h2><br/></a><p><strong>name</strong> the name of the extension test</p><p><strong>test</strong> the extension test function</p><p>Resolves a <code>TypeState</code> to either <code>._return</code> or <code>false</code>. The primary computing
function behind type-mark. Does <em>not</em> directly modify the modifier stack.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">4</span>).not.resolve(<span class="hljs-string">'string'</span>, type.string)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">5</span>).arrayof.resolve(<span class="hljs-string">'instanceof'</span>, type.min(<span class="hljs-number">4</span>))</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id=".result(test:function)"></a><a class="anchor" href="#.result(test:function)"><h2><code>.result(test : function)</code></h2><br/></a><p><strong>test</strong> the test to compute the result of</p><p><strong>returns</strong> the return value of the given test</p><p>A function for computing the result of an extension on a given <code>TypeState</code>
object outside the context of modifiers, but within the context of its
initial value and arguments. Used internally for consistency.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-regexp">/regex/</span>).not.result(type.instanceof(<span class="hljs-built_in">RegExp</span>))</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type().result(type.number)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id=".message(message:mixed)"></a><a class="anchor" href="#.message(message:mixed)"><h2><code>.message(message : mixed)</code></h2><br/></a><p><strong>message</strong> the overrideing message string or function</p><p><strong>returns</strong> the <code>TypeState</code> object for chaining</p><p>A function that sets <code>._message</code>. If a string is passed to <code>.message</code> this
string will be used for any <code>TypeError</code>s that occur. If a function is passed it
will be called with the same arguments as the current test and used instead of
the default or extension specified <code>TypeError</code> message.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">null</span>).message(<span class="hljs-string">':('</span>).assert.exists</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">null</span>).message(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">'Oops '</span> + arg; }).assert.exists</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type().message(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">'Oops'</span> })._message()</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id=".format(asserted:array,found:array)"></a><a class="anchor" href="#.format(asserted:array,found:array)"><h2><code>.format(asserted : Array, found : Array)</code></h2><br/></a><p><strong>asserted</strong> an Array of asserted values/names</p><p><strong>found</strong> an Array of found values/names</p><p><strong>returns</strong> the formatted error string</p><p>A function the combines the current modifier stack with a list of asserted and
found values to create an error message in the default format.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type().format([<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>], [<span class="hljs-string">'maybe?'</span>, <span class="hljs-literal">undefined</span>])</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="extensions"></a><a class="anchor" href="#extensions"><h1>Extensions</h1><br/></a><p>Extensions, also known as tests or checks, are what make type-mark useful.</p><a class="anchor-point" id=".extend(name:string,test:function,[message:mixed])"></a><a class="anchor" href="#.extend(name:string,test:function,[message:mixed])"><h2><code>.extend(name : string, test : function, [message : mixed])</code></h2><br/></a><p><strong>name</strong> the name of the new test/check</p><p><strong>test</strong> the test function</p><p><strong>message</strong> an optional argument to specify the default error message</p><p>Extends <code>TypeState</code> with a new test function that will be called when accessed.
This function manages all the details required to ensure that the new test
is correctly modified by modifiers. Even though the test is a function, it is
run when it as accessed as a property. This is done using
<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">defineProperty</a>.</p><p>The test function should expect one argument (the current value being tested)
and should always return a boolean result.</p><p>As an example, here is the implementation of the <code>array</code> extension</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.extend(<span class="hljs-string">'array'</span>, <span class="hljs-built_in">Array</span>.isArray);</pre></div></div></div><p>By default a new extension&#x27;s error message will use the format</p><div class="editor"><div class="code" data-lang=""><div class="text"><pre>Uncaught TypeError: Expected &lt;ExtenstionName&gt; -- Found : &lt;type&gt; &lt;value&gt;</pre></div></div></div><p>To provide a custom dynamic error message see
<a href="#formatasserted--array-found--array">.format</a>. Or alternatively access
<a href="#stack">.stack</a> directly and create an appropriate error message. The error
message function is called with the same arguments as the test function,</p><a class="anchor-point" id=".extendfn(name:string,test:function,[message:function])"></a><a class="anchor" href="#.extendfn(name:string,test:function,[message:function])"><h2><code>.extendfn(name : string, test : function, [message : function])</code></h2><br/></a><p><strong>name</strong> the name of the new test/check</p><p><strong>test</strong> the test function</p><p><strong>message</strong> an optional argument to specify the default error message</p><p>Extends <code>TypeState</code> with a new test function that expects arguments. This
function manages all the details required to ensure that the new test is
correctly modified by modifiers. Additionally, the test function will be
converted to a curried function when accessed using type-mark&#x27;s alternate
syntax.</p><p>The test function can expect any number of arguments greater than or equal to
one. The final argument received by the function will be the value being tested.
This is to ensure that currying works as expected. The function should always
return a boolean result.</p><p>As an example, here is the implementation of the <code>lengthof</code> extension</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span><span class="line-number">7</span><span class="line-number">8</span><span class="line-number">9</span></div><div class="text"><pre>type.extendfn(<span class="hljs-string">'lengthof'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n, arg</span>) </span>{
    type(n).assert.number;
    <span class="hljs-keyword">return</span> type.util.length(arg) === n;
}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n, arg</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.format(
        [<span class="hljs-string">'lengthof'</span>, n],
        [<span class="hljs-keyword">this</span>.type, <span class="hljs-string">'lengthof'</span>, <span class="hljs-built_in">String</span>(type.util.length(arg))]
    );
});</pre></div></div></div><p>It is more common for <code>extendfn</code> extensions to modify their error messages in
order to display the arguments passed to them. The above creates error messages
like the following</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]).assert.not.lengthof(<span class="hljs-number">3</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>To provide a custom dynamic error message see
<a href="#formatasserted--array-found--array">.format</a>. Or alternatively access
<a href="#stack">.stack</a> directly and create an appropriate error message. The error
message function is called with the same arguments as the test function,</p><a class="anchor-point" id="and(...checks:function)"></a><a class="anchor" href="#and(...checks:function)"><h2><code>and(...checks : function)</code></h2><br/></a><p><strong>checks</strong> any number of test functions</p><p>Returns true if the all the checks provided to <code>and</code> pass for the current
value. When using the standard syntax any number of test functions can be
passed, but when using the alternate syntax in an interface, only two checks
may be provided. This is to prevent currying from continuing indefinitely.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]).and(type.array, type.lengthof(<span class="hljs-number">3</span>), type.exists)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type({ <span class="hljs-attr">x</span> : [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] }).implements({ <span class="hljs-attr">x</span> : type.and(type.array, type.lengthof(<span class="hljs-number">3</span>)) })</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>If you try to use <code>and</code> as a function with more than 2 arguments, you will get
an error message</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span></div><div class="text"><pre>type({ <span class="hljs-attr">x</span> : [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]}).implements({ <span class="hljs-attr">x</span> : type.and(
    type.array,
    type.lengthof(<span class="hljs-number">3</span>),
    type.exists
)})</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="array"></a><a class="anchor" href="#array"><h2><code>array</code></h2><br/></a><p>Returns true if the current value is an array.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]).array</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'string'</span>).array</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="boolean"></a><a class="anchor" href="#boolean"><h2><code>boolean</code></h2><br/></a><p>Returns true if the current value is a boolean.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">true</span>).boolean</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">false</span>).boolean</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">0</span>).boolean</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="empty"></a><a class="anchor" href="#empty"><h2><code>empty</code></h2><br/></a><p>Returns true if the current value is either an empty array, object, or string.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([]).empty</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type({}).empty</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">''</span>).empty</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">' '</span>).empty</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="even"></a><a class="anchor" href="#even"><h2><code>even</code></h2><br/></a><p>Returns true if the current value is an even integer.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">-2</span>).even</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">4.04</span>).even</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="exists"></a><a class="anchor" href="#exists"><h2><code>exists</code></h2><br/></a><p>Returns true if the current value is neither <code>null</code> nor <code>undefined</code>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([]).exists</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">null</span>).exists</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">undefined</span>).exists</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="function"></a><a class="anchor" href="#function"><h2><code>function</code></h2><br/></a><p>Returns true if the current value is a function.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{}).function</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-built_in">Array</span>).function</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>()).function</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="implements(interface:object)"></a><a class="anchor" href="#implements(interface:object)"><h2><code>implements(interface : object)</code></h2><br/></a><p><strong>interface</strong> an object of nested functions representing an interface</p><p>Returns true if the current value implements the given interface. An interface
should be composed exclusively of objects and functions. Each key in the object
should map to either a validation function (that when failing means the current
value does not implement the interface) or a nested object, representing a
nested object in the current value itself.</p><p>Below is an example interface</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span><span class="line-number">7</span><span class="line-number">8</span><span class="line-number">9</span></div><div class="text"><pre><span class="hljs-keyword">var</span> myInterface = {
    <span class="hljs-attr">name</span> : type.string,
    <span class="hljs-attr">age</span>  : type.integer,
    <span class="hljs-attr">coordinate</span> : {
        <span class="hljs-attr">x</span> : type.number,
        <span class="hljs-attr">y</span> : type.number,
        <span class="hljs-attr">z</span> : type.number
    }
};</pre></div></div></div><p>Based on the interface above we can test to see if a or b implement the
interface.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span><span class="line-number">7</span><span class="line-number">8</span><span class="line-number">9</span><span class="line-number">10</span><span class="line-number">11</span><span class="line-number">12</span><span class="line-number">13</span><span class="line-number">14</span><span class="line-number">15</span><span class="line-number">16</span><span class="line-number">17</span><span class="line-number">18</span><span class="line-number">19</span></div><div class="text"><pre><span class="hljs-keyword">var</span> a = {
    <span class="hljs-attr">name</span> : <span class="hljs-string">'bear'</span>,
    <span class="hljs-attr">age</span>  : <span class="hljs-number">14.5</span>,
    <span class="hljs-attr">coordinate</span> : {
       <span class="hljs-attr">x</span> : <span class="hljs-number">0.0</span>,
       <span class="hljs-attr">y</span> : <span class="hljs-number">1.1</span>, 
       <span class="hljs-attr">z</span> : <span class="hljs-number">0.1</span>
    }
}
<span class="hljs-keyword">var</span> b = {
    <span class="hljs-attr">name</span> : <span class="hljs-string">'bird'</span>,
    <span class="hljs-attr">age</span>  : <span class="hljs-number">1</span>,
    <span class="hljs-attr">coordinate</span> : {
        <span class="hljs-attr">x</span> : <span class="hljs-number">0.0</span>,
        <span class="hljs-attr">y</span> : <span class="hljs-number">0.0</span>,
        <span class="hljs-attr">z</span> : <span class="hljs-number">14.0</span>,
        <span class="hljs-attr">flag</span> : <span class="hljs-literal">true</span>
    }
}</pre></div></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(a).implements(myInterface)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(b).implements(myInterface)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p><code>a</code> due to <code>age</code> being a float rather than an integer. <code>b</code> succeeds because
additional properties are ignored.</p><p>Interfaces may also be nested within interfaces. For example</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span></div><div class="text"><pre><span class="hljs-keyword">var</span> nestedInterface = {
    <span class="hljs-attr">coordinates</span> : type.arrayof.implements({
        <span class="hljs-attr">x</span> : type.number,
        <span class="hljs-attr">y</span> : type.number
    })
};</pre></div></div></div><p>is a valid interface that checks if the supplied object contains a property
coordinates that is an array of <code>{x, y}</code> objects.</p><p>User defined validation functions may also be used in an interface, for instance</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span></div><div class="text"><pre><span class="hljs-keyword">var</span> interface = {
    <span class="hljs-attr">three</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isThree</span>(<span class="hljs-params">arg</span>) </span>{
        <span class="hljs-keyword">return</span> arg === <span class="hljs-number">3</span> || <span class="hljs-regexp">/^(3|three|iii)$/i</span>.test(arg);
    }
};</pre></div></div></div><a class="anchor-point" id="instanceof(constructor:function)"></a><a class="anchor" href="#instanceof(constructor:function)"><h2><code>instanceof(constructor : function)</code></h2><br/></a><p><strong>constructor</strong> the object constructor</p><p>Returns true if the current value was constructed by <code>constructor</code>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).instanceof(<span class="hljs-built_in">Date</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([]).instanceof(<span class="hljs-built_in">Date</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="integer"></a><a class="anchor" href="#integer"><h2><code>integer</code></h2><br/></a><p>Returns true if the current value is an &quot;integer&quot; that is it is equal to the
floored version of itself.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">3</span>).integer</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">3.14</span>).integer</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="lengthof(n:number)"></a><a class="anchor" href="#lengthof(n:number)"><h2><code>lengthof(n : number)</code></h2><br/></a><p><strong>n</strong> the desired number</p><p>Returns true if the current value is either an array, string or object with <code>n</code>
keys.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]).lengthof(<span class="hljs-number">3</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'hi!'</span>).lengthof(<span class="hljs-number">3</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type({ <span class="hljs-attr">x</span> : <span class="hljs-string">'x'</span> , <span class="hljs-attr">y</span> : <span class="hljs-string">'y'</span>, <span class="hljs-attr">z</span> : <span class="hljs-string">'z'</span> }).lengthof(<span class="hljs-number">3</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type({}).lengthof(<span class="hljs-number">3</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="max(n:number)"></a><a class="anchor" href="#max(n:number)"><h2><code>max(n : number)</code></h2><br/></a><p><strong>n</strong> the maximum number</p><p>Returns true if the current value is less than or equal to max.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-built_in">Math</span>.E).max(<span class="hljs-built_in">Math</span>.PI)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">0</span>).max(<span class="hljs-number">-1</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="min(n:number)"></a><a class="anchor" href="#min(n:number)"><h2><code>min(n : number)</code></h2><br/></a><p><strong>n</strong> the minimum number</p><p>Returns true if the current value is greater than or equal to min.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-built_in">Math</span>.PI).min(<span class="hljs-built_in">Math</span>.E)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">-1</span>).min(<span class="hljs-number">0</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="native"></a><a class="anchor" href="#native"><h2><code>native</code></h2><br/></a><p>Returns true if the current value is a native function. Based off the
implementation of <a href="https://lodash.com/">lodash&#x27;s</a> isNative function.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-built_in">Array</span>).native</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type({}).native</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="negative"></a><a class="anchor" href="#negative"><h2><code>negative</code></h2><br/></a><p>Returns true if the current value is a negative number.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">-3.14</span>).negative</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">-12000</span>).negative</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">0</span>).negative</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="number"></a><a class="anchor" href="#number"><h2><code>number</code></h2><br/></a><p>Returns true if the current value is a number.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-built_in">Math</span>.PI).number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([]).number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="object"></a><a class="anchor" href="#object"><h2><code>object</code></h2><br/></a><p>Returns true if the current value is an object (and not <code>null</code>).</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([]).object</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-regexp">/regex/</span>).object</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">null</span>).object</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="odd"></a><a class="anchor" href="#odd"><h2><code>odd</code></h2><br/></a><p>Returns true if the current value is an odd integer.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">17</span>).odd</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">1.04</span>).odd</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="or(...checks:function)"></a><a class="anchor" href="#or(...checks:function)"><h2><code>or(...checks : function)</code></h2><br/></a><p><strong>checks</strong> any number of test functions</p><p>Returns true if the any of the checks provided to <code>or</code> pass for the current
value. When using the standard syntax any number of test functions can be
passed, but when using the alternate syntax in an interface, only two checks
may be provided. This is to prevent currying from continuing indefinitely.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'test'</span>).or(type.number, type.boolean, type.string)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type({ <span class="hljs-attr">x</span> : [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] }).implements({ <span class="hljs-attr">x</span> : type.or(type.function, type.lengthof(<span class="hljs-number">3</span>)) })</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>If you try to use <code>or</code> as a function with more than 2 arguments, you will get
an error message</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span></div><div class="text"><pre>type({ <span class="hljs-attr">x</span> : [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] }).implements({ <span class="hljs-attr">x</span> : type.or(
    type.function,
    type.lengthof(<span class="hljs-number">3</span>),
    type.exists
)})</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="positive"></a><a class="anchor" href="#positive"><h2><code>positive</code></h2><br/></a><p>Returns true if the current value is a positive number.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">3.14</span>).positive</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">0</span>).positive</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">-42</span>).positive</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="range(min:number,max:number)"></a><a class="anchor" href="#range(min:number,max:number)"><h2><code>range(min : number, max : number)</code></h2><br/></a><p><strong>min</strong> the minimum number</p><p><strong>max</strong> the maximum number</p><p>Returns true if the current value is greater than or equal to min and strictly
less than the maximum.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">97</span>).range(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">-42</span>).range(<span class="hljs-number">-50</span>, <span class="hljs-number">25</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">10</span>).range(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="string"></a><a class="anchor" href="#string"><h2><code>string</code></h2><br/></a><p>Returns true if the current value is a string.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'string'</span>).string</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">true</span>).string</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="symbol"></a><a class="anchor" href="#symbol"><h2><code>symbol</code></h2><br/></a><p>Returns true if the current value is a symbol.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-built_in">Symbol</span>()).symbol</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'string'</span>).symbol</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="undefined"></a><a class="anchor" href="#undefined"><h2><code>undefined</code></h2><br/></a><p>Returns true if the current value is <code>undefined</code>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>).undefined</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([]).undefined</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="modifiers"></a><a class="anchor" href="#modifiers"><h1>Modifiers</h1><br/></a><p>Modifiers wrap around extensions, changing their default behaviour. Modifiers are
applied in a stack, last in first out, basis. For example</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).arrayof.not.number</pre></div></div></div><p>checks that x is an array of non-number elements whereas</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).not.arrayof.number</pre></div></div></div><p>checks that x is not an array of numbers.</p><a class="anchor-point" id=".modify(name:string,mod:function)"></a><a class="anchor" href="#.modify(name:string,mod:function)"><h2><code>.modify(name : string, mod : function)</code></h2><br/></a><p><strong>name</strong> the name of the new modifier</p><p><strong>mod</strong> the modifier function</p><p>Defines a new modifier. In addition to the <code>name</code> argument, the modifier
function&#x27;s <code>.name</code> property should also be set to an appropriate value as it
is used in default error messages.</p><p>The modifier function is expected to accept a test function, for example the
array extension&#x27;s test function <code>Array.isArray</code> and return a new modified test.
The modifier is expected to provide all arguments it received to the original
test function if appropriate, include the <code>this</code> value.</p><p>As an example, here is the implementation of the <code>not</code> modifier</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span></div><div class="text"><pre>type.modify(<span class="hljs-string">'not'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">not</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> !test.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
    };
});</pre></div></div></div><a class="anchor-point" id="arrayof"></a><a class="anchor" href="#arrayof"><h2><code>arrayof</code></h2><br/></a><p>Modifies the test function to return true only if the current value is an array
of values that all pass the test.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]).arrayof.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type({ <span class="hljs-number">0</span> : <span class="hljs-number">1</span>, <span class="hljs-number">1</span> : <span class="hljs-number">2</span>, <span class="hljs-number">2</span> : <span class="hljs-number">3</span> }).arrayof.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="assert"></a><a class="anchor" href="#assert"><h2><code>assert</code></h2><br/></a><p>Modifies the test function to throw a <code>TypeError</code> if the test fails.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">42</span>).assert.string</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'string'</span>).assert.not.string</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="collapse"></a><a class="anchor" href="#collapse"><h2><code>collapse</code></h2><br/></a><p>Modifies the test function to be called on all values passed to type, returning
the first value that passes the test. Returns false otherwise.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'string'</span>, {}, [], <span class="hljs-number">42</span>, <span class="hljs-literal">true</span>, <span class="hljs-built_in">Math</span>.PI).collapse.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">1</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{}, []).collapse.string</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p><strong>Note</strong> Collapse does not support the alternate calling syntax.</p><a class="anchor-point" id="maybe"></a><a class="anchor" href="#maybe"><h2><code>maybe</code></h2><br/></a><p>Modifies the test function to return true for null and undefined values.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">null</span>).maybe.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">12</span>).maybe.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="not"></a><a class="anchor" href="#not"><h2><code>not</code></h2><br/></a><p>Modifies the test function, negating its result.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'string'</span>).not.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-built_in">Math</span>.PI).not.exists</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="of"></a><a class="anchor" href="#of"><h2><code>of</code></h2><br/></a><p>Similar to <a href="$arrayof">arrayof</a> but supports all objects.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type({ <span class="hljs-number">0</span> : <span class="hljs-number">1</span>, <span class="hljs-number">1</span> : <span class="hljs-number">2</span>, <span class="hljs-number">2</span> : <span class="hljs-number">3</span> }).arrayof.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]).arrayof.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="util"></a><a class="anchor" href="#util"><h1>Util</h1><br/></a><p>type-mark comes packed with a small utility library for common tasks needed
elsewhere by the API.</p><a class="anchor-point" id=".util.define(obj:object,name:string,fn:function)"></a><a class="anchor" href="#.util.define(obj:object,name:string,fn:function)"><h2><code>.util.define(obj : object, name : string, fn : function)</code></h2><br/></a><p><strong>object</strong> the object to define a property on</p><p><strong>name</strong> the name of the property</p><p><strong>fn</strong> the function that returns the value of that property</p><p>Defines a readonly property on an object. Used to simplify calling
<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">defineProperty</a>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span></div><div class="text"><pre>obj = {}
type.util.define(obj, <span class="hljs-string">'x'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; })</pre></div></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>obj.x</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: obj is not defined</span></pre></div></div><a class="anchor-point" id=".util.toarray(arg:mixed)"></a><a class="anchor" href="#.util.toarray(arg:mixed)"><h2><code>.util.toArray(arg : mixed)</code></h2><br/></a><p><strong>arg</strong> an array-like object</p><p><strong>returns</strong> an array containing the values of the array-like object</p><p>Used to convert <code>arguments</code> to an array, or similar objects.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.util.toArray({ <span class="hljs-number">0</span> : <span class="hljs-number">1</span>, <span class="hljs-number">1</span> : <span class="hljs-number">2</span>, <span class="hljs-number">2</span> : <span class="hljs-number">3</span>, <span class="hljs-attr">length</span> : <span class="hljs-number">3</span> })</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id=".util.length(arg:mixed)"></a><a class="anchor" href="#.util.length(arg:mixed)"><h2><code>.util.length(arg : mixed)</code></h2><br/></a><p><strong>arg</strong> a value to get the length of</p><p><strong>returns</strong> the length of the value or undefined if not applicable</p><p>Returns a meaningful length value for a given argument. For arrays and strings
this means <code>.length</code>. For objects this means the number of key value pairs they
contain (excluding Symbols). For all other values <code>undefined</code> is returned.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.util.length([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.util.length(<span class="hljs-string">'Hello World!'</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.util.length({ <span class="hljs-attr">x</span> : <span class="hljs-string">'x'</span>, <span class="hljs-attr">y</span> : <span class="hljs-string">'y'</span> })</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.util.length(<span class="hljs-number">12</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id=".util.curry(fn:function,[arity:number])"></a><a class="anchor" href="#.util.curry(fn:function,[arity:number])"><h2><code>.util.curry(fn : function, [arity : number])</code></h2><br/></a><p><strong>fn</strong> the function to curry</p><p><strong>arity</strong> an optional argument specifying the arity of the function</p><p><strong>returns</strong> the curried function</p><p>Curries a function so that if it receives less than the functions&#x27;s arity in
arguments it returns a new function expecting arity minus the number of
arguments received arguments. The returned function will also behave in this
way.</p><p>By default the <code>.length</code> property of the function is used for arity.</p><p>Based off the implementation explained
<a href="http://blog.carbonfive.com/2015/01/14/gettin-freaky-functional-wcurried-javascript/">here</a>.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>fn = type.util.curry(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{ <span class="hljs-keyword">return</span> a + b + c; })</pre></div></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>fn(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: fn is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>fn(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: fn is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>fn(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: fn is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>fn(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: fn is not defined</span></pre></div></div></div></div></div><footer><div class="container grid-md"><div class="columns"><div class="column col-3 hide-sm"><a target="_blank" href="https://www.linkedin.com/in/ejrbuss/" class="p-md subtle"><i class="fab fa-linkedin-in fa-lg"></i></a><a target="_blank" href="https://github.com/ejrbuss" class="p-md subtle"><i class="fab fa-github fa-lg"></i></a><a target="_blank" href="https://twitter.com/ejrbuss" class="p-md subtle"><i class="fab fa-twitter fa-lg"></i></a></div><div class="column col-6 col-sm-12"><p class="text-center subtext">Built with <i class="fas fa-heart clr-accent"></i> using <a target="_blank" href="https://nextjs.org/" class="subtle">Nextjs</a>, <a target="_blank" href="https://picturepan2.github.io/spectre/index.html" class="subtle">Spectre.css</a>, &amp; <a target="_blank" href="/blog/siteHistory" class="subtle">More</a></p></div><div class="column col-3 hide-sm"><p class="text-right subtext">© <a href="https://ejrbuss.net">ejrbuss</a> 2019</p></div></div></div></footer></div><script>__NEXT_DATA__ = {"props":{"pageProps":{}},"page":"/api","query":{},"buildId":"DuRphBvu4WhwLHLj5sh~X","assetPrefix":"/type-mark","nextExport":true};__NEXT_LOADED_PAGES__=[];__NEXT_REGISTER_PAGE=function(r,f){__NEXT_LOADED_PAGES__.push([r, f])}</script><script async="" id="__NEXT_PAGE__/api" src="/type-mark/_next/static/DuRphBvu4WhwLHLj5sh~X/pages/api.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/type-mark/_next/static/DuRphBvu4WhwLHLj5sh~X/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/type-mark/_next/static/DuRphBvu4WhwLHLj5sh~X/pages/_error.js"></script><script src="/type-mark/_next/static/runtime/webpack-f4542de9ce6104e90191.js" async=""></script><script src="/type-mark/_next/static/chunks/commons.5e892ddd9f5bec278c6c.js" async=""></script><script src="/type-mark/_next/static/runtime/main-c2e40a57d5e6d5e563b1.js" async=""></script></body></html>